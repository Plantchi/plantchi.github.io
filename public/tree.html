<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
  <title> Tree needs</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="play.css">

 <script>
   let socket = io(); //create a new socket using io lib
   let el;
   var sun = 0;

   socket.emit('createRoom', 1);

   socket.on('time', function(timeString) {
    el = document.getElementById('server-time')
    el.innerHTML = 'Server time: ' + timeString;
   });

  /* //TODO-Kels: in progress fn to send data to serve to be changed and emitted back to this page 
   function changeHp(sun){
    socket.emit('changeHp',sun);
    console.log( "the value of sun hp is now: " + sun.value);
   }
*/ 
   function getProgress() {
	 return document.getElementById("progbar").getAttribute("aria-valuenow");
	 return document.getElementById("progbar").getAttribute("style","width");
	 return document.getElementById("progbar").innerHTML;
	}
  function setProgress(value) {
	 document.getElementById("progbar").setAttribute("aria-valuenow",value);
	 document.getElementById("progbar").setAttribute("style","width: " + value + "%");	
	 document.getElementById("progbar").innerHTML = (value+ "%"); 
  }
//how we incremement will need to be different for every plant
function increment() {
	let i = getProgress();
  if(i >= 100) return; 
	 else{
    i += 20;  //its treating this like a string, but when ++i it works?? 
	  setProgress(i);	
   }
 }

 //we need to create an automated decrement
 </script>

</head>

<body>
  <main>
    <h1>What does your plant need?</h1>
    <a href="/">Go back to Home</a>
    <div class="flex-container">
      <div class="flex-item">
        <button type="button" onclick = "increment()" class="btn">
          <img class="needs_images"
            src="https://res.cloudinary.com/dkpjewza8/image/upload/v1614401607/sun_1_orcvxh.png" alt="">
          <p>Sun</p>
        </button>
      </div>
      <div class="flex-item">
        <button type="button" class="btn">
          <img class="needs_images"
            src="https://res.cloudinary.com/dkpjewza8/image/upload/v1614403533/entertain_wa4ekg.png" alt="">
          <p>Fun</p>
      </button>
      </div>
      <div class="flex-item">
        <button type="button" class="btn">
          <img class="needs_images" src="https://res.cloudinary.com/dkpjewza8/image/upload/v1614403243/food_p3x9m4.png" alt="">
          <p>Food</p>
        </button>
      </div>
      <div class="flex-item">
        <button type="button" class="btn">
          <img class="needs_images"
            src="https://res.cloudinary.com/dkpjewza8/image/upload/v1614404190/thirst_2_suz6nq.png" alt="">
          <p>Drink</p>
       </button>
      </div>
    </div>
    <div class="flex-container">
      <img class="tree_img" src="/images/tree.png" alt="">
    </div>

    <div>
      <div class="progress border" style="height:25px;">
      <!--  <div class="progress-bar" style="width:70%; background:aqua; color: black;">Sun</div> -->
      <div class="progress-bar" role="progressbar" id="progbar" style="width:0%" aria-valuenow = "0" aria-valuemin = "0" aria-valuemax = "100"  background =aqua color =black>sun 0%</div> 
      </div>
      <div>
        <div class="progress border" style="height:25px;">
          <div class="progress-bar" style="width:100%; background: blueviolet;">Fun</div>
        </div>
        <div class="progress border" style="height:25px;">
          <div class="progress-bar" style="width:20%">Food</div>
        </div>
        <div class="progress border" style="height:25px;">
          <div class="progress-bar" style="width:80%; background: hotpink;  color: black;">Drink</div>
        </div>
      </div>
  </main>
</body>

</html>